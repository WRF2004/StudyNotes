# 第七章 文件系统

## 文件系统基本概念

### 文件

#### 文件是什么？

* 一组带标识的、在逻辑上有完整**意义**的**信息项**的序列。
  * 信息项：构成文件内容的基本单位（单个字节，或多个字节）， 各信息项之间具有顺序关系。
  * 文件内容的意义由文件建立者和使用者解释。
* 文件实质上是一组字节序列：一切皆文件。
  * 所有IO设备（字符设备，块设备以及网络设备）都可以看作为字节序列的载体。因此，包括磁盘、键盘、鼠标、显示器等I/O设备 都可看成是文件。
* 文件包括两部分：
  * 文件体：文件本身的内容；
  * 文件说明：文件存储和管理的相关信息，如：文件名、文件内部标识、文件存储地址、访问权限、访问时间等；



#### 文件系统

* 文件系统是操作系统中统一管理信息资源的一种软件 ，管理文件的存储、检索、更新，提供安全可靠的共享和保护手段，并且方便用户使用。
* 文件系统要完成的任务：
  * 1.统一管理磁盘空间，实现磁盘空间的分配与回收；
  * 2.实现文件按名存取：名字空间--映射-->磁盘空间；
  * 3.实现文件信息共享，并提供文件的保护、保密手段；
  * 4.向用户提供一个方便使用、易于维护的接口，并向用户提供有关统计信息；
  * 5.提高文件系统的性能；
  * 6.提供与IO系统的统一接口。



#### 文件系统模型的三个层次

##### 一、文件系统的接口(最接近用户的)

* 为了方便用户使用操作系统，文件系统通过向用户提 供两种类型的接口：
  * 命令行接口：用户和文件系统的交互接口。用户可以 通过键盘终端键入命令，取得文件系统的服务。
  * 程序接口：用户程序和文件系统的接口。用户程序可 以通过系统调用的形式来取得文件系统的服务。

##### 二、对象操作管理的软件集合

这是文件管理系统的**核心部分**。

* 文件系统的功能大多数是在这一层实现的，其中包括：
  * 对文件存储空间的管理；
  * 对文件目录的管理；
  * 用户将文件的逻辑地址转换为物理地址的机制；
  * 对文件读和写的管理；
  * 对文件的共享和保护的功能。

##### 三、对象及其属性

* 文件系统管理的对象有：
  * 文件，它作为文件管理的直接对象。
  * 目录，为了方便用户对文件的存取和检索，在文件 系统中必须配置目录，每个目录项中，必须包含文件名及 文件所在的物理地址（或指针）。对目录的组织和管理是 方便用户和提高对文件存取速度的关键。
  * 磁盘存储空间，文件和目录必定占用存储空间，对 这部分空间的高效管理，不仅能够提高外存的利用率，而 且能够提高对文件的检索速度。



#### 文件名

* 当一个文件被创建时，必须给它指定一个名字，用户 通过文件名来访问文件。

* 命名规则：文件名是一个有限长度的字符串。一个文件名一般由两部分组成，中间用句点隔开。 

* 文件名.扩展名 

* 文件名的长度一般不超过8个字符，但很多系统支持 长文件名，如255个字符。文件名可以由字母、数字 和特殊字符组成，有的系统区分字母的大小写（如 Unix），有的系统则不区分（如Windows）。



#### 文件类型

* 按性质和用途：系统文件、库文件、用户文件 

* 按数据形式：源文件、目标文件、可执行文件 

* 按对文件实施的保护级别分：只读文件、读写文 件、执行文件、不保护文件 

* 按逻辑结构分：有结构文件、无结构文件 

* 按文件中物理结构分：顺序文件、链接文件、索 引文件

##### 例：UNIX的文件类型

UNIX按性质和用途将文件分为：一般分为普通文件、目 录文件、特殊文件（设备文件）、管道文件、套接字。

* 普通文件：即用户自己建立的文件，包含了用户的信息，一般为ASCII或二进制文件；
* 目录文件：管理文件系统的系统文件；
* 特殊文件/设备文件(Special file/Device file)：
  * 字符设备文件：和输入输出有关，用户模仿串行I/O设 备，例如终端、打印机、网卡等。
  * 块设备文件：磁盘、磁带等。



#### 文件的逻辑结构

这是从用户角度看文件，由用户的访问方式确定的。三 种逻辑结构，还可以组织成堆、顺序、索引、散列等结 构。 以字节为单位的流式结构、记录式文件结构、树形结构。



#### 文件存取方式及存储介质

* 文件存取方式：
  * 顺序存取；
  * 随机存取：提供读写位置（当前位置）。
* 文件的存储介质
  * 典型的存储介质：磁盘(包括SSD)、磁带、光盘等；
  * 物理块（块block、簇cluster）：数据存储、传输和分配的单位，存储设备通常划分为大小相等的物理块， 统一编号。



#### 文件基本操作

* 创建文件 
* 删除文件 
* 打开文件 
* 关闭文件 
* 读文件 
* 写文件 
* 修改文件名 
* 设置文件的读写位置



### 目录

#### 目录管理

**目录是由文件说明索引组成的用于文件检索的特殊文件。** 

文件目录的内容主要是文件访问和控制的信息（不包括文件内容）。



#### 目录内容

* 目录是文件属性信息，部分是用户可获取的.
* 基本信息
  * 文件名：字符串，通常不同系统允许不同的最大长度， 可修改。有些系统允许同一文件有多个别名(alias)；
  * 别名的数目；
* 文件类型：
  * 有/无结构（记录文件，流式文件）;
  * 内容（二进制，文本）
  * 用途（源代码，目标代码，可执行文件，数据）
  * 属性attribute（如系统，隐含等）
  * 文件组织（如顺序，索引等）
* 地址信息
  * 存放位置：哪个设备或文件卷，及各存储块位置；
  * 文件长度（当前和上限）：以字节、字或存储块为单位
* 访问控制信息
  * 文件所有者（属主）：通常是创建文件的用户，也可改 变；
  * 访问权限（用户访问方式）：读、写、执行等。
* 使用信息
  * 创建时间；
  * 最后一次读访问的时间和用户。
  * 最后一次写访问的时间和用户。



#### 文件目录的分类

##### 单级文件目录

![微信截图_20240522221123](D:%5CDesktop%5C%E7%85%A7%E7%89%87%5CPictures%5C%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%5C%E7%AC%AC%E4%B8%83%E7%AB%A0%5C%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240522221123.png)

* 文件目录的每个表目应包含：
  * 文件的符号名 
  * 文件所在物理地址 
  * 文件结构信息 
  * 访问控制信息 
  * 管理信息

* 特点：
  * 结构简单（只在早期的个人计算机上使用过）；
  * 文件多时，目录检索时间长；
  * 有命名冲突：如多个文件有相同的文件名（不同用户的相 同作用的文件）或一个文件有多个不同的文件名（不同用 户对同一文件的命名）；
  * 不便于实现共享。

##### 两级目录

![微信截图_20240522221247](D:%5CDesktop%5C%E7%85%A7%E7%89%87%5CPictures%5C%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%5C%E7%AC%AC%E4%B8%83%E7%AB%A0%5C%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240522221247.png)

* 在根目录（第一级目录）下，每个用户对应一个目录（第 二级目录），在用户目录下是该用户的文件，而不再有下 级目录。适用于多用户系统，各用户可有自己的专用目录

##### 多级目录（层次目录）

* 在较高的目录级，其目录表目为下一级目录名以及一个指向其目录的指针。
* 在最后一级目录，这 个指针指向文件的物理地址。
* 几乎所有现代文件系统都采用这种方案。
* 在多级目录结构中，如何来指定需要访问的文件？
  * 绝对路径名：对于每一个文件或目录，可以用从根目录 开始依次经由的各级目录名，再加上最终的文件名或目 录名来表示（之间用分隔符隔开）一个文件或目录的绝对路径名是唯一的。例如 ：\spell\mail\copy\all
  * 相对路径：结合当前路径进行使用，比如上个例子中 ，如果当前目录为/usr,那么ast/mailbox指的就是根目 录下的usr 文件夹中的ast 文件中的mailbox 文件
  * 当前目录：也叫工作目录，用“.”表示，读作dot，用 户可以指定一个目录作为当前的工作目录；
  * 上一级目录：使用“..” 表示上一级目录，读作 dotdot, 在根目录下“..”表示它本身，还是根目录。
* 特点：
  * 层次清楚
    * 不同性质、不同用户的文件可以构成不同子树，便于管理； 
    * 不同用户的文件可以被赋予不同的存取权限，有利于文件的保护 ； 
    * 数目较多时，便于系统和用户将文件分散管理，使得文件和目录 的层次结构较为清晰。适用于文件数量较多的文件系统管理；
  * 可解决文件重名问题
    * 文件在系统中的搜索路径时从根开始到文件名为止的各文件名组 成，只要在同一目录下的文件名不发生重复就不会由文件重名而 引发混乱；
  * 查找速度快
    * 可为每类文件建立一个子目录，由于对多级目录的查找每次只查 找目录的一个子集，所以搜索速度快于一级和二级目录；
  * 目录级别太多时，会增加路径检索时间。



## 文件系统实现方法

文件实现需解决以下两个问题：

* 如何来描述一个文件，如何来记录文件的各种管理信息？
* 如何来存放文件，即如何为文件中各个连续的逻辑块分配磁盘中的空闲物理块？如何来记录逻辑块与物理块之间的映射关系？



### 文件控制块

* 基本信息
  * 文件名：字符串，通常在不同系统中允许不同的最大长度，可修改 
  * 物理位置； 
  * 文件逻辑结构：有/无结构（记录文件，流式文件） 
  * 文件物理结构：（如顺序，索引等）

* 访问控制信息
  * 文件所有者（属主）：通常是创建文件的用户，或者改变已有文件 的属主； 
  * 访问权限（控制各用户可使用的访问方式）：如读、写、执行、删 除等；

* 使用信息
  * 创建时间，上一次修改时间，当前使用信息等。
* 实例：DOS中的文件控制块FCB，Unix中的inode

#### 文件控制块 vs 文件描述符

* 文件控制块(File Control Block)：描述文件的基本信息
* 文件描述符（File Descriptor）：一般为一个非负整数，唯一标识一个打开的文件。



### 文件逻辑结构和物理结构

* 文件逻辑结构（文件组织）：提高检索效率；便于修改；降低文件存储代价。
* 文件物理结构：
  * 文件在存储介质上的存放方式，表示了一个文件在文件 存储介质上的位置、链接和编目的方法。
  * 主要解决两个问题：
    * 假设一个文件被划分成N块，这N块在磁盘上是怎么存放的？
    * 其地址（块号或簇号）是怎样记录的？
  * 主要结构：连续结构、索引结构、串联结构

#### 连续（顺序）结构

* 优点：
  * 结构简单，实现容易，不需要额外的空间开销 
  * 顺序存取和随机存取的效率高

* 缺点：
  * 文件长度一经固定便不易改变； 
  * 不利于文件的动态增加和修改；

**适合于变化不大的文件，容易出现磁盘碎片**



#### 串联/链接文件结构

##### 什么是串联结构

* 串联文件结构是按顺序由串联的块组成的，即文件的信息按存储 介质的物理特性存于若干块中。 
* 每个物理块的最末一个字(或第一个字)作为链接字，它指向后继 块的物理地址。链首指针存放在该文件目录中。文件的结尾块的 指针为“∧”，表示文件至本块结束。 
* 对于记录式文件，一块中可包含一个逻辑记录或多个逻辑记录， 也可以若干物理块包含一个逻辑记录。

##### 串联文件的特点

* 优点：

  * 空间利用率高；能较好的利用外存空间； 
  * 文件动态扩充和修改容易； 
  * 顺序存取效率高；

  类似于存储管理中的页式

* 缺点：

  * 随机存取效率太低，如果访问文件的最后的内容，实际上是要访问整个文件。 
  * 可靠性问题，如指针出错; 
  * 链接指针占用一定的空间。

#### 索引结构

* 索引结构：
  * 一个文件的信息存放在若干个不连续物理块中 
  * 系统为每个文件建立一个专用数据结构：索引表，并将这些物理块的块号存放在该索引中。 
  * 索引表就是磁盘块地址数组，其中第i个条目指向文件 的第i块。

* 索引表应该存放在何处？
  * 每个文件的索引表长度是不一样的，不能存放在FCB中 ，FCB中只记录索引表的地址。

* 索引文件： 系统为每个文件建立逻辑块号与物理块号的对照表 ，称为文件的索引表。**文件由数据文件和索引表构成**，这种文件称为索引文件。
  * 索引表位置：文件目录中，文件的开头等。
  * 索引表大小：固定大小，非固定大小。
* 索引文件在存储区中占两个区：索引区和数据区。 索引区存放索引表，数据区存放数据文件本身。
* 访问索引文件需要两步操作： 
  * 读取文件索引区，由逻辑块号查得物理块号 
  * 访问物理块号而获得所需信息

* 举例：读取Linux下/tmp/hello的过程（假定根目录 inode已在内存中）
  * 读取根目录内容，获得tmp目录的inode所在的物理块号 
  * 读取tmp的inode信息，获得tmp目录项所在的物理块号 
  * 读取tmp目录内容，获得hello的inode所在的物理块号 
  * 读取hello的inode信息，获得hello的物理块号。 
  * 读取hello的数据

##### 特点：

* 优点：保持了链接结构的优点，又避免了其缺点：
  * 即能顺序存取，又能随机存取
  * 满足了文件动态增长、插入删除的要求
  * 能充分利用外存空间
* 缺点：索引表本身带来了系统开销 如：内外存空间，存取时间

##### 索引表的组织

* 链接模式：一个盘块一个索引表，多个索引表链接起来
* 多级索引（间接索引）： 将一个大文件的所有索引表（二级索引)的地址放在另 一个索引表（一级索引)中
* 综合模式：直接索引方式与间接索引方式结合

#### 文件物理结构的比较

* 连续文件：
  * 优点是不需要额外的空间开销，只要在文件目录中指出文件的大小和首块的块号即可，顺序和随机访问效率都很高。
  * 缺点是动态地增长和缩小系统开销很大；文件创建时要求用户提供文件的大小；存储空间浪费较大。 
* 串联文件：克服了连续文件的不足之处，但文件随机访问的系统开销较大。适合于顺序访问。DOS系统中改造了串联文件的结构，使其克服了串联文件的不足，但增加了系统的危险性。 
* 索引文件：既适合于顺序存访问，也适合于随机访问，是 一种比较好的文件物理结构，但索引表需额外空间与时间 开销。UNIX系统是使用索引结构的典型例子。

### 目录的主要功能和实现

#### 目录的主要功能

* 根据用户给出的ASCII形式的文件名（路径名），迅速地定位到相应的文件控制块。
* 目录的实现需解决以下三个问题：
  * 目录项的内容； 
  * 长文件名问题； 
  * 目录的搜索方法。

#### 目录的实现

* 不同的系统采用不同的实现方法，一般分为两类：
  * 直接法：目录项＝文件名＋文件控制块（属性信息、在 外存上的存放位置）。如MS-DOS/Windows；
  * 间接法：目录项＝文件名＋文件控制块的地址（索引号 ）。如Unix（inode）；
* 不管是何种方法，给定一个文件名，即可返回相应的 文件信息。

#### 长文件名

*  MS-DOS：文件名的最大长度为8个字符，扩展名最大 长度为3个字符；Unix V7：文件名最大长度为14个字 符
* 但在现代OS中，一般都支持更长的、可变长度的文件 名。实现方法有：
  * 方法1：在目录项中，将文件名的长度固定为255个字 符。缺点：浪费空间，很少文件用很长的名字；
  * 方法2：每个目录项的长度可变，分为三部分：目录项长度、文件的属性信息（此两项长度固定）、文件名（ 长度可变）。缺点：文件被删除后，该目录项所占用的 空间不太好回收利用；
  * 方法3：目录项本身的长度固定，把长度可变的文件名 统一放在目录文件的末尾。

#### 文件目录的查询技术

* 顺序查寻法
  * 依次扫描符号文件目录中的表目，将表目的名字字段与 查找的符号名NAME进行比较（适用于表目不多时）。
* Hash方法
  * 即“散列法”或“杂凑法”，是一种构造符号表、查询符号表常用的技术。 
  * 其基本思想是：利用一个易于实现的变换函数（即 Hash函数），把每个符号名唯一的变换成符号表中的 表目索引。

#### 保护文件的方法

* 建立副本
  * 把同一文件保存到多个存储介质上（同类或不同类） 
    * 出故障时，可备用副本替换 
  * 优点 方法简单 
  * 缺点 
    * 设备费用和系统开销增大 
  * **适用于短小且极为重要的文件**
* 定时转储 
  * 每隔一定时间把文件转储到其他存储介质上，当文件发 生故障，就用转储的文件来复原，把有故障的文件恢复 到转储时刻文件的状态
  * UNIX采用定时转储办法保护文件，可以提高文件 的可靠性
* 规定文件的权限

#### 文件的一致性检查

* Windows: scandisk程序 
* Unix: fsck程序 
* 两类一致性 
  * 磁盘块的一致性：每个磁盘块设置两个计数器，一个记 录在文件中出现的次数，另一个记录在空闲块中出现的 次数，最终检查两个计数器是否存在不一致问题。 
  * 文件的一致性：每个文件设置两个计数器，一个记录其 i节点被引用的次数，另一个记录文件目录中引用它的 次数，最终检查两个计数器是否存在不一致问题。

#### 文件的并发访问

* 文件并发访问控制的目的是提供多个进程并发访问同一文 件的机制。 
* 访问文件之前，必须先打开文件：如果文件的目录内容不 在内存，则将其从外存读入，否则，仍使用已在内存的目 录内容。这样，多个进程访问同一个文件都使用内存中同 一个目录内容，保证了文件系统的一致性。 
* 文件锁定(file lock)：可协调对文件指定区域的互斥访问
  *  Solaris 8中“int lockf(int fildes, int function, off_t  size);”的锁定方式：
    * F_UNLOCK：取消锁定； 
    * F_LOCK：锁定；如果已被锁定，则阻塞； 
    * F_TLOCK：锁定；如果已被锁定，则失败返回 
    * F_TEST：锁定测试；

* 利用进程间通信，协调对文件的访问

#### 文件系统的性能问题

* 磁盘服务：速度成为系统性能的主要瓶颈之一。因此 ，在设计文件系统时应尽可能**减少磁盘访问次数**。
* 提高文件系统性能的方法：
  * 目录项分解、当前目录、磁盘碎片整理、块高速缓存、 磁盘调度、提前读取、合理分配磁盘空间、数据的优化分布、RAID技术等。

##### 提高文件系统性能：块高速缓存

* 块高速缓存（BLOCK CACHE）又称为文件缓存、磁盘高速缓存、缓冲区高速缓存。是指在内存中为磁盘块设置的一个缓冲区，保存了磁盘中某些块的 副本。当对文件系统进行操作的时候：
  * 检查所有的读请求，看所需块是否在块高速缓冲中 
  * 如果在，则可直接进行读操作；否则，先将数据块读入 块高速缓存，再拷贝到所需的地方。 
  * 由于访问的局部性原理，当一数据块被读入块高速缓存 以满足一个IO请求时，很可能将来还会再次访问到这 一数据块。

* 块高速缓存的组织方式
  * 在块高速缓存中有若干个数据块，首先将这些块使 用一个双向链表组织起来，当要访问这个链的时候 就将其从此链中拿出来，然后挂接到链尾
  * 对于某个文件使用的块,要检查其是否在高速缓存 中，所以使用块号进行散列以提高检查速度。

* 块高速缓冲的管理
  * 块高速缓存的置换
    * 此缓存的空间不会很大，当缓存满时需要对其进行置换 。对于以后可能会再次使用的块，将其放在链尾，而对 于使用概率很小的块可能就需要将其剔除。
  * 块高速缓存的写入策略
    * 在文件系统中，需要考虑该块是否会影响文件系统的一 致性（高速缓存中的数据与相应磁盘块中的数据是否一 致）。
* 磁盘块的大小
  * 块过大：读取磁盘次数少，但浪费空间 
  * 块过小：磁盘空间利用率高，但因多次读取磁盘而浪费时间

#### 基于日志结构的文件系统

* UC Berkeley提出

* 为了提高磁盘的I/O速度，需要提高写数据的速度
* **磁头的寻道是影响磁盘写性能的主要因素之一**

#####  LFS: 基本思路

* 将磁盘看作一个日志系统： log
  * 日志log是一个数据结构，所有的写操作仅在日志头来完成，也就是对日志的追加（append）操作 
  * 如果将磁盘按照日志进行管理，就能够避免为寻道而进行的磁头移动,“文件”总是顺序添加到磁盘上

* 基本思路：**新的数据块和元数据 (inode、目录) 先以segment为单位放在缓存中，当segment填满 之后写入到硬盘。**
  * Segment比较大，由多个block组成 
  * 每次写数据不修改原来的数据块

##### 怎么找到inode?

* Unix文件系统中，inode的信息存放在磁盘的固定位 置 
* 在LFS文件系统中，每次修改文件之后，并不更新原来的数据块，inode信息会重新写入新的数据块。

*  inode Map
  * 映射：inode号→磁盘块 
  * inode map缓存在内存中 
  * 与某个inode相关的inode map 会与inode及相关数据写入磁盘 
  * 磁盘上设置有一个特殊的区域 ：checkpoint，LFS周期性将 最新的inode map的指针写入磁 盘checkpoint。

##### LFS: 读写操作

* 每次执行写操作都会在segment缓冲区加入新的数 据块；当segment写满了之后, 会将其中的数据写 到磁盘 
* 读操作与Unix文件系统基本相同，只是在寻找 inode时需要用到缓存在内存中的inode map §执行写操作时，由于新的数据块会不断替换文件 中原来的数据块，会导致segment逐渐碎片化 

### 文件系统实例分析

#### MS DOS的文件系统

* 主要特点
  * 多级目录 
  * 无文件别名 
  * 无用户访问权限控制
* 发展与分类
  * FAT12: 最大支持32MB的磁盘 空间管理 
  * FAT16: 最大支持2GB 
  * FAT32: 最大支持2TB

####  FAT文件系统

* 簇（块）大小：1、2、3、8、16、32或64扇区； 
* 文件系统的数据记录在“引导扇区”中； 
* 文件分配表（FAT，File Allocation Table）的作用 ：描述簇的分配状态、标注下一簇的簇号等； 
*  FAT表项：2字节（16位）； 
* 目录项：32字节； 
* 根目录大小固定。

#### UNIX文件系统

* 多级文件目录，可以建立文件别名（索引结点方式和 符号链接方式），有用户访问权限控制（文件的读R 、写W和执行X，相应于目录的检索文件、增删文件 和进入目录） 
  * 注意：如果对文件具有写权限，而对文件所在目录没有写权限，仍然可以改变该文件的长度（如添加数据）， 因为**除文件名外的其他文件目录内容都存放在索引结点 而不是在目录文件**。 
* 文件类型：常规文件(ordinary file)，目录文件 (directory)，特殊文件(special file)如外设，先进先出文 件(FIFO)如命名管道

#### Linux文件系统

* Ext2 文件系统利用索引节点（inode）来描述文件系统的拓扑结构。在单个文件系统中，每个文件对应一个索引节点，而每个索引节点有一个唯一的整数标识符。文件系统中所有文件的索引节点保存在索引节点表中。 
* Ext2 文件系统中的目录实际是一种特殊文件，它们也有对应的索引节点，索引节点指向的数据块中包含该目录中所有的目录项（文件、目录、符号链接等）， 每个目录项对应自己的索引节点。

##### inode

* 模式：该数据域包含索引节点所描述的对象类型，以及用 户的许可信息。在Ext2 中，每个节点可描述一个文件、 目录、符号链接、块设备、字符设备或一个FIFO。 
* 所有者信息：文件或目录所有者的用户和组标识符 
* 大小：文件以字节为单位的大小。 
* 时间戳：该索引节点的创建时间以及索引节点的最后改动 时间。 
* 数据块：包含该索引节点所描述的数据的数据块指针。对 于前12 个数据块指针来说，它们指向的数据块是包含实 际文件数据的数据块，而后面的三个指针则包含间接数据 块指针。

##### Ext2 文件系统的超块(superblock)

* 文件系统的超块（Superblock）包含了文件系统的基本大小和形式。其中包含的数据由文件系统管理程序 用来进行文件系统的维护。每个块组中包含有**相同的**超块信息，但通常只需读取块组0 的超块。

* 幻数：幻数用来标识超块的类型。文件系统的挂装软件可据此判断是否为有效的Ext2 文件系统超块。当 前的Ext2 文件系统幻数为0xEF53。 
* 修订级别：包含两个数据，分别为主修订级别和次修订级别。文件系统的挂装软件可据此判断文件系统是否支持某种特定的功能。实际上，该信息作为兼容性 标志而存在。 
* 组块编号：保存该超块的组块编号。 
* 数据块大小：文件系统的数据块大小，以字节为单位 。 
* 每组的数据块个数：每组的数据块个数，该值在建立 文件系统时设置并保持不变。

#####  Ext2 块组描述符

* 每个块组中包含有一个数据结构描述该块组。和超块 类似，所有块组的块组描述符重复出现在所有的块组 中。 
  * 数据块位图位置：包含块组数据块分配位图的数据块编 号。每个块组包含多少块？ 
  * 索引节点位图位置：包含块组索引节点分配位图的数据 块编号。每个块组包含多少inode？ 
  * 索引节点表位置：包含块组索引节点表的起始数据块编 号。 
  * 空闲块计数、空闲索引节点计数、已用目录计数